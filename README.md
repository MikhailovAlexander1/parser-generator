# parser-generator

Данный репозиторий содержит выполненную лабораторную работу "Написание генераторов парсеров" на языке Java. Также в лабораторной присутствует инструмент для создания парсеров ANTLR, который разбирает входную грамматику, переданную для генерации парсера.

Исходный источник заданий -> [тут](https://nerc.itmo.ru/teaching/parsing/2023-2024/lab4.html)

---

#### <a id="tasks-list">Описание лабораторной работы:</a>
- [Введение](#introduction)
- [Задание для выполнения](#task-declaration)
- [Грамматики](#ll1)
- [Работа с атрибутами](#attributes)
- [Генераторы](#generators)
- [Тесты](#tests)

---

### <a id="introduction">Введение</a>
- Необходимо написать некоторый упрощенный аналог генератора трансляторов. Рекомендуется брать за основу синтаксис ANTLR или Bison. Рекомендуется для чтения входного файла с грамматикой сгенерировать разборщик с помощью ANTLR или Bison.

**Обязательное требование**: должен быть лексический анализатор, не должно быть ограничения, что токен это один символ.

---

### <a id="task-declaration">Задание для выполнения</a>
Необходимо набрать в сумме хотя бы 35 баллов.

Необходимо из каждого пункта выполнить хотя бы 1 вариант.

**Выбор класса грамматик**
- [x] (10 баллов) LL(1)-грамматики, нисходящий разбор
- [ ] (15 баллов) SLR-грамматики, восходящий разбор
- [ ] (20 баллов) LALR-грамматики, восходящий разбор

**Работа с атрибутами**
- [x] (10 баллов) поддержка синтезируемых атрибутов
- [x] (10 баллов) поддержка наследуемых атрибутов

**Тестирование получившегося генератора**
- [x] (обязательно) сгенерировать с помощью вашего генератора калькулятор
- [x] (5 баллов) выполнить с помощью вашего генератора ваше задание второй лабораторной
- [ ] (10 баллов) выполнить с помощью вашего генератора ваше задание третьей лабораторной

---

### <a id="ll1">Грамматики</a>
1. Все грамматики, которые должен проанализировать и сгенерировать мой генератор представлены текстовыми файлами в корне репозитория [```calculatorGrammar.txt```](calculatorGrammar.txt) и [```kotlinGrammar.txt```](kotlinGrammar.txt).
2. Обработчик входной грамматики представлен [тут](antlr/GrammarRules.g4) в файле ```antlr/GrammarRules.g4```. Он в свою очередь генерирует разборщик в папку ```antlr/grammarrulesgen```.
3. Всмогательный класс по пути [](antlr/myvisitors/)

    ```java
    public class GrammarMyVisitor extends GrammarRulesBaseVisitor<Void> {
        ...
    }
    ```
    
    обрабатывает и собирает информацию для дальнейшей работы с ней.
4. В пакете [```antlr/myparserrulesinformation```](antlr/myparserrulesinformation) представлены вспомогательные классы для хранения информации о прочитанной грамматике.
5. Проверка грамматики на LL1 и построение множеств FIRST и FOLLOW реализованы [тут](src/main/java/org/example/checkers/FirstFollowChecker.java) в классе ```FirstFollowChecker.java```.

---

### <a id="attributes">Работа с атрибутами</a>
Работа с атрибутами реализована [тут](antlr/GrammarRules.g4) в файле ```antlr/GrammarRules.g4```.

Пример можно увидеть в файле [```calculatorGrammar.txt```](calculatorGrammar.txt)
```
esup (double a) [double value]
```
где в круглых скобках - наследуемый атрибут, в квадратных - синтезируемый.

---

### <a id="generators">Генераторы</a>
Все генераторы модулей парсера находятся [тут](src/main/java/org/example/generator).
1. Класс ```TokenGenerator.java``` генерирует класс-перечисление токенов входной грамматики.
2. Класс ```LexerGenerator.java``` генерирует класс, отвечающий за лексический анализатор.
3. Класс ```ParserGenerator.java``` генерирует класс, реализующий синтаксический анализатор.

Примеры сгенерированных парсеров можно посмотреть в папке [```mygens```](mygens) в пакетах [```calculator```](mygens/calculator) и [```kotlin```](mygens/kotlin).

---

### <a id="tests">Тесты</a>
Тесты представлены по пути [```src/main/java/org/example/tests```](src/main/java/org/example/tests).
1. В классе ```CalculatorTests.java``` представлены тесты для обязательного калькулятора.
2. В классе ```KotlinTests.java``` представлены тесты для 2 лабораторной работы "Ручное построение нисходящих синтаксических анализаторов", с реализацией которой можно ознакомится в [следующем репозитории](https://github.com/MikhailovAlexander1/test-rep/blob/main/parserlab/parser.md).

---